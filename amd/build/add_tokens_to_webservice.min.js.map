{"version":3,"file":"add_tokens_to_webservice.min.js","sources":["../src/add_tokens_to_webservice.js"],"sourcesContent":["import ModalForm from 'core_form/modalform';\r\nimport {get_string as getString} from 'core/str';\r\n\r\nexport const tokensModal = () => {\r\n    const addToken = document.querySelectorAll(\"#add_tokens_button\");\r\n    addToken.forEach(button => {\r\n        button.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            const element = e.target;\r\n            const modalForm = new ModalForm({\r\n                // Name of the class where form is defined (must extend \\core_form\\dynamic_form).\r\n                formClass: 'local_wswizard\\\\forms\\\\add_token_to_webservice_form',\r\n                // Add as many arguments as you need, they will be passed to the form.\r\n                args: {webserviceid: element.parentElement.getAttribute('data-id')},\r\n                // Pass any configuration settings to the modal dialogue, for example, the title.\r\n                modalConfig: {title: getString('add_new_token', 'local_wswizard')},\r\n                // DOM element that should get the focus after the modal dialogue is closed.\r\n                returnFocus: element,\r\n            });\r\n            // Listen to events if you want to execute something on form submit.\r\n            // Event detail will contain everything the process() function returned.\r\n            modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, function() {\r\n                    window.location.reload();\r\n                }\r\n            );\r\n            // Show the form.\r\n            modalForm.show();\r\n        });\r\n    });\r\n};\r\n"],"names":["document","querySelectorAll","forEach","button","addEventListener","e","preventDefault","element","target","modalForm","ModalForm","formClass","args","webserviceid","parentElement","getAttribute","modalConfig","title","returnFocus","events","FORM_SUBMITTED","window","location","reload","show"],"mappings":"iTAG2B,KACNA,SAASC,iBAAiB,sBAClCC,SAAQC,SACbA,OAAOC,iBAAiB,SAASC,IAC7BA,EAAEC,uBACIC,QAAUF,EAAEG,OACZC,UAAY,IAAIC,mBAAU,CAE5BC,UAAW,sDAEXC,KAAM,CAACC,aAAcN,QAAQO,cAAcC,aAAa,YAExDC,YAAa,CAACC,OAAO,mBAAU,gBAAiB,mBAEhDC,YAAaX,UAIjBE,UAAUL,iBAAiBK,UAAUU,OAAOC,gBAAgB,WACpDC,OAAOC,SAASC,YAIxBd,UAAUe"}