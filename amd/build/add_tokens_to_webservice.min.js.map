{"version":3,"file":"add_tokens_to_webservice.min.js","sources":["../src/add_tokens_to_webservice.js"],"sourcesContent":["import ModalForm from 'core_form/modalform';\nimport {get_string as getString} from 'core/str';\n\n// .....\n\n// In this example we will open the modal dialogue with the form when user clicks on the edit link:\nexport const tokensModal = () => {\n    const addToken = document.querySelectorAll(\"#add_tokens_button\");\n    addToken.forEach(button => {\n        button.addEventListener('click', e => {\n            e.preventDefault();\n            const element = e.target;\n            //console.log(element.parentElement.getAttribute('data-id'));\n            const modalForm = new ModalForm({\n                // Name of the class where form is defined (must extend \\core_form\\dynamic_form):\n                formClass: 'local_wswizard\\\\forms\\\\add_token_to_webservice_form',\n                // Add as many arguments as you need, they will be passed to the form:\n                args: {webservice_id: element.parentElement.getAttribute('data-id')},\n                // Pass any configuration settings to the modal dialogue, for example, the title:\n                modalConfig: {title: getString('add_new_token', 'local_wswizard')},\n                // DOM element that should get the focus after the modal dialogue is closed:\n                returnFocus: element,\n            });\n            // Listen to events if you want to execute something on form submit.\n            // Event detail will contain everything the process() function returned:\n            modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, function() {\n                    window.location.reload();\n                }\n                // window.console.log(e.detail)\n            );\n            // Show the form.\n            modalForm.show();\n        });\n    });\n};\n"],"names":["document","querySelectorAll","forEach","button","addEventListener","e","preventDefault","element","target","modalForm","ModalForm","formClass","args","webservice_id","parentElement","getAttribute","modalConfig","title","returnFocus","events","FORM_SUBMITTED","window","location","reload","show"],"mappings":"iTAM2B,KACNA,SAASC,iBAAiB,sBAClCC,SAAQC,SACbA,OAAOC,iBAAiB,SAASC,IAC7BA,EAAEC,uBACIC,QAAUF,EAAEG,OAEZC,UAAY,IAAIC,mBAAU,CAE5BC,UAAW,sDAEXC,KAAM,CAACC,cAAeN,QAAQO,cAAcC,aAAa,YAEzDC,YAAa,CAACC,OAAO,mBAAU,gBAAiB,mBAEhDC,YAAaX,UAIjBE,UAAUL,iBAAiBK,UAAUU,OAAOC,gBAAgB,WACpDC,OAAOC,SAASC,YAKxBd,UAAUe"}